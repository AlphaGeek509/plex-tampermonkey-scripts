(()=>{(function(){"use strict";let w=typeof unsafeWindow<"u"?unsafeWindow:window;function g(t=typeof unsafeWindow<"u"?unsafeWindow:window){try{if(typeof lt<"u"&&lt?.core?.data)return{dc:lt.core.data,host:t}}catch{}try{if(t.lt?.core?.data)return{dc:t.lt.core.data,host:t}}catch{}for(let c=0;c<t.frames.length;c++)try{let s=g(t.frames[c]);if(s)return s}catch{}return null}function m(){let t=typeof unsafeWindow<"u"?unsafeWindow:window,c=typeof lt<"u"?lt:t.lt=t.lt||{},s=c.core=c.core||{},o=s.data;if(o||(o=s.data={}),o.createDataContext||(o.createDataContext=function({ns:y,scopeKey:a,persist:e="session",ttlMs:r=null}){let i=e==="local"?t.localStorage:t.sessionStorage,u=`${`lt:${y}:${a}:`}header`;return{makeRepo(){return{async get(){try{let n=i.getItem(u);return n?JSON.parse(n):null}catch{return null}},async getHeader(){return this.get()},async patchHeader(n){let f=await this.get()||{},d=Object.assign({},f,n||{});try{i.setItem(u,JSON.stringify(d))}catch{}return d},async clear(){try{i.removeItem(u)}catch{}},async ensureFromLegacyIfMissing(){}}}}}),!o.makeFlatScopedRepo){let p=function(a){let e=2166136261;for(let r=0;r<a.length;r++)e^=a.charCodeAt(r),e=Math.imul(e,16777619)>>>0;return e>>>0};Object.defineProperty(o,"makeFlatScopedRepo",{value:function({ns:a,entity:e="quote",persist:r="session",ttlMs:i=null,legacyEntity:h=null}={}){function u(l){let n=typeof l=="string"?p(l):Number(l);if(!Number.isFinite(n)||n<=0)throw new Error("Invalid scopeKey");let f=o.createDataContext({ns:a,scopeKey:n,persist:r,ttlMs:i}),d=f.makeRepo(function(){});return{ctx:f,repo:d}}return{use:u,FlatRepo:function(){},opts:{ns:a,entity:e,persist:r,ttlMs:i,legacyEntity:h}}},configurable:!0,writable:!0})}return!0}m()})();})();
;(function(g){try{if(typeof LTDataCore!=='undefined'){g.LTDataCore=LTDataCore;}}catch(e){}})(typeof unsafeWindow!=='undefined'?unsafeWindow:window);
